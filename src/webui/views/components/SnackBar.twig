{% set classes = {
    'success': 'bg-green-600',
    'error': 'bg-red-600',
    'warning': 'bg-yellow-500 text-black',
    'info': 'bg-blue-600'
} %}
{% for type, messages in flash_messages %}
    {% for message in messages %}
        <div
                id="flash-message"
                class="fixed bottom-4 right-4 z-50 {{ classes[type]|default('bg-gray-700') }} text-white px-4 py-2 rounded shadow-lg transition-opacity duration-500"
        >
            {{ message }}
        </div>
    {% endfor %}
{% endfor %}

<script>
    window.addEventListener('DOMContentLoaded', () => {
        const flash = document.getElementById('flash-message');
        if (flash) {
            // Attendre 4 secondes, puis ajouter une classe d’opacité
            setTimeout(() => {
                flash.classList.add('opacity-0');
            }, 4000);

            // Supprimer complètement du DOM après l’animation
            setTimeout(() => {
                flash.remove();
            }, 5000);
        }
    });
</script>